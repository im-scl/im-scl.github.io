<html><head>

    <!--meta_data-->
    <!--css_styles-->
    <title>The iFramed Search Engine</title>

    </head>
<body>
<!--page_header-->


<script>
    var searchTool = {

        customId: 1,

        searchEngine: "https://bing.com/search?q=",
        lastUrl: "https://bing.com/search?q=doc+savage",

        changeUrl: function (theUrl) {

            var iframes = document.getElementsByClassName("viewport-container");
            for (var i = 0; i < iframes.length; i++) {
                iframes[i].src = theUrl;
            }
            searchTool.lastUrl = theUrl;
        },

        changeUrlFromForm: function () {
            var e = document.getElementById("engines");
            var urlPrefix = e.options[e.selectedIndex].value;
            var theUrl = urlPrefix + encodeURI(document.getElementById('search-term').value);
            searchTool.changeUrl(theUrl);
            document.getElementById("gosearch").href=theUrl;
        }
    }
</script>

<!-- todo: add a button to toggle all from https to http to demonstrate mixed content-->

<select id="engines">
    <option value="https://bing.com/search?q=">bing</option>
    <option value="https://www.dogpile.com/search/web?q=">dogpile</option>
    <option value="https://www.info.com/serp?q=">info.com</option>
    <option value="https://www.webcrawler.com/serp?q=">WebCrawler.com</option>
</select>

<input type="text" id="search-term"></text>
<button type="button" class="trigger-url-change" onclick="searchTool.changeUrlFromForm()">Search</button>
<a id="gosearch" href='' target="_blank">Go search</a>

<div class="viewport" style="height: 100%;" >
    <iframe class="viewport-container" src="" id="theiframe" style="width: 100%; height: 100%;">

    </iframe>
</div>

</body>

</html>
